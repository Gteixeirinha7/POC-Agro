["{\"nodes\":{\"Extract_ProcessInstanceStep\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"ActorId\"},{\"name\":\"OriginalActorId\"},{\"name\":\"ProcessInstanceId\"},{\"name\":\"Comments\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"CreatedDate\"},{\"name\":\"ElapsedTimeInMinutes\"},{\"name\":\"StepStatus\"}],\"object\":\"ProcessInstanceStep\"}},\"Filter_User\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"UserType:EQ:Standard|PowerPartner\"},\"sources\":[\"Extract_User\"]},\"Register_Approvals\":{\"action\":\"register\",\"parameters\":{\"label\":\"Approval\",\"name\":\"Approval\"},\"sources\":[\"Join_ProcessInstanceStep_ProcessInstance_Definition\"]},\"Compute_Manager_Unique\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"name\":\"UniqueUserName\",\"saqlExpression\":\"case when isDuplicate is null then 'Name' else 'Name' + \\\" (\\\" +'Username'+ \\\")\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Compute_Unique_Name\"]},\"Flatten_Hierarchy_Grouping\":{\"action\":\"flatten\",\"parameters\":{\"includeSelfId\":true,\"multiField\":{\"isSystemField\":false,\"label\":\"Hierarchy_RoleNames\",\"name\":\"Hierarchy_RoleNames\"},\"parentField\":\"ParentRole.DeveloperName\",\"pathField\":{\"isSystemField\":false,\"label\":\"Hierarchy_RoleNamesPath\",\"name\":\"Hierarchy_RoleNamesPath\"},\"selfField\":\"DeveloperName\"},\"sources\":[\"Flatten_ParentName\"]},\"Join_ProcessInstanceStep_OriginalApprover\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"OriginalActorId\"],\"relationship\":\"OriginalApprover\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"Username\",\"UserRoleId\",\"UniqueUserName\",\"FullPhotoUrl\",\"SmallPhotoUrl\",\"Role.Name\",\"Role.DeveloperName\",\"Role.Roles\",\"Role.RolePath\",\"Role.ParentRoleId\",\"Role.ParentRole.Name\",\"Role.ParentRole.DeveloperName\",\"Role.RoleNames\",\"Role.RoleNamesPath\",\"Role.Hierarchy_RoleNames\"]},\"sources\":[\"Join_ProcessInstanceStep_Approver\",\"User_with_Roles\"]},\"Extract_ProcessInstance\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"CompletedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"CreatedDate\"},{\"name\":\"ElapsedTimeInDays\"},{\"name\":\"ElapsedTimeInHours\"},{\"name\":\"ElapsedTimeInMinutes\"},{\"name\":\"LastModifiedDate\"},{\"name\":\"Id\"},{\"name\":\"Status\"},{\"name\":\"SubmittedById\"},{\"name\":\"ProcessDefinitionId\"},{\"name\":\"TargetObjectId\"}],\"object\":\"ProcessInstance\"}},\"Join_ProcessInstanceStep_ProcessInstance_Submitter\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Approval.SubmittedById\"],\"relationship\":\"SubmittedBy\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"Username\",\"UserRoleId\",\"UniqueUserName\",\"FullPhotoUrl\",\"SmallPhotoUrl\",\"Role.Name\",\"Role.DeveloperName\",\"Role.Roles\",\"Role.RolePath\",\"Role.ParentRoleId\",\"Role.ParentRole.Name\",\"Role.ParentRole.DeveloperName\",\"Role.RoleNames\",\"Role.RoleNamesPath\",\"Role.Hierarchy_RoleNames\"]},\"sources\":[\"Join_ProcessInstanceStep_ProcessInstance\",\"User_with_Roles\"]},\"Flatten_ParentName\":{\"action\":\"flatten\",\"parameters\":{\"includeSelfId\":true,\"multiField\":{\"isSystemField\":false,\"label\":\"RoleNames\",\"name\":\"RoleNames\"},\"parentField\":\"ParentRole.DeveloperName\",\"pathField\":{\"isSystemField\":false,\"label\":\"RoleNamesPath\",\"name\":\"RoleNamesPath\"},\"selfField\":\"DeveloperName\"},\"sources\":[\"Augment_ParentName\"]},\"Augment_ParentName\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ParentRoleId\"],\"relationship\":\"ParentRole\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"DeveloperName\",\"ParentRoleId\"]},\"sources\":[\"Flatten_UserRole\",\"Extract_UserRole\"]},\"Extract_User\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Username\"},{\"name\":\"Name\"},{\"name\":\"FirstName\"},{\"name\":\"LastName\"},{\"name\":\"UserRoleId\"},{\"name\":\"UserType\"},{\"name\":\"IsActive\"},{\"name\":\"FullPhotoUrl\"},{\"name\":\"SmallPhotoUrl\"},{\"defaultValue\":\"N/A\",\"name\":\"ManagerId\"}],\"object\":\"User\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"Extract_ProcessDefinition\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Description\"},{\"name\":\"Name\"},{\"name\":\"State\"},{\"name\":\"Type\"},{\"name\":\"SystemModstamp\"},{\"name\":\"TableEnumOrId\"},{\"name\":\"Id\"}],\"object\":\"ProcessDefinition\"}},\"Extract_UserRole\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"DeveloperName\"},{\"name\":\"ParentRoleId\"},{\"name\":\"LastModifiedDate\"},{\"name\":\"LastModifiedById\"}],\"object\":\"UserRole\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"User_with_Roles\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"UserRoleId\"],\"relationship\":\"Role\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"DeveloperName\",\"Roles\",\"RolePath\",\"ParentRoleId\",\"ParentRole.Name\",\"ParentRole.DeveloperName\",\"RoleNames\",\"Hierarchy_RoleNames\",\"RoleNamesPath\"]},\"sources\":[\"Compute_Manager_Unique\",\"Flatten_Hierarchy_Grouping\"]},\"Compute_Unique_Name\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"description\":\"isDuplicate\",\"expression\":{\"offset\":\"next()\",\"sourceField\":\"Id\"},\"label\":\"isDuplicate\",\"name\":\"isDuplicate\"}],\"orderBy\":[{\"direction\":\"asc\",\"name\":\"Id\"}],\"partitionBy\":[\"Name\"]},\"sources\":[\"Filter_User\"]},\"Join_ProcessInstanceStep_Approver\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ActorId\"],\"relationship\":\"Approver\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"Username\",\"UserRoleId\",\"UniqueUserName\",\"FullPhotoUrl\",\"SmallPhotoUrl\",\"Role.Name\",\"Role.DeveloperName\",\"Role.Roles\",\"Role.RolePath\",\"Role.ParentRoleId\",\"Role.ParentRole.Name\",\"Role.ParentRole.DeveloperName\",\"Role.RoleNames\",\"Role.RoleNamesPath\",\"Role.Hierarchy_RoleNames\"]},\"sources\":[\"Extract_ProcessInstanceStep\",\"User_with_Roles\"]},\"Flatten_UserRole\":{\"action\":\"flatten\",\"parameters\":{\"multiField\":{\"isSystemField\":false,\"label\":\"Roles\",\"name\":\"Roles\"},\"parentField\":\"ParentRoleId\",\"pathField\":{\"isSystemField\":false,\"label\":\"RolePath\",\"name\":\"RolePath\"},\"selfField\":\"Id\"},\"sources\":[\"Extract_UserRole\"]},\"Join_ProcessInstanceStep_ProcessInstance_Definition\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Approval.ProcessDefinitionId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Process\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Description\",\"Name\",\"State\",\"Type\",\"TableEnumOrId\"]},\"sources\":[\"Join_ProcessInstanceStep_ProcessInstance_Submitter\",\"Extract_ProcessDefinition\"]},\"Join_ProcessInstanceStep_ProcessInstance\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ProcessInstanceId\"],\"relationship\":\"Approval\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"CompletedDate\",\"CreatedDate\",\"ElapsedTimeInMinutes\",\"LastModifiedDate\",\"Id\",\"Status\",\"SubmittedById\",\"ProcessDefinitionId\",\"TargetObjectId\"]},\"sources\":[\"Join_ProcessInstanceStep_OriginalApprover\",\"Extract_ProcessInstance\"]}}}",null]